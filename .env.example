# ============================================
# PrawnikGPT - Environment Variables Template
# ============================================
# 
# This file contains example environment variables for PrawnikGPT.
# Copy this file to .env and fill in your actual values.
#
# IMPORTANT: This project is deployment-agnostic and can run in multiple configurations:
# - All-in-one: Everything on localhost
# - Distributed: Frontend/Backend on one machine, services on another
# - Cloud: All components in cloud providers
# - Hybrid: Any combination of local and cloud
#
# ============================================
# FRONTEND CONFIGURATION (Astro)
# ============================================
# These variables are exposed to the browser (PUBLIC_ prefix)
# They are used by the Astro frontend to connect to services

# FastAPI Backend URL
# Examples:
#   - All-in-one: http://localhost:8000
#   - Distributed: http://localhost:8000 (if backend on same machine)
#   - Cloud: https://api.your-domain.com
PUBLIC_API_BASE_URL=http://localhost:8000

# Supabase URL (for frontend authentication and database access)
# Examples:
#   - All-in-one: http://localhost:8444
#   - Distributed: http://192.168.0.11:8444 (replace with your server IP)
#   - Cloud: https://your-project.supabase.co
PUBLIC_SUPABASE_URL=http://localhost:8444

# Supabase Anonymous Key (public key, safe to expose to browser)
# Get this from Supabase Dashboard → Settings → API → anon/public key
PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# ============================================
# BACKEND CONFIGURATION (FastAPI)
# ============================================
# These variables are used by the FastAPI backend
# They are NOT exposed to the browser (no PUBLIC_ prefix)
#
# NOTE: Backend looks for .env in the backend/ directory when running from there
#       OR in the root directory if running from root
#       You can create backend/.env OR use root .env (both work)

# Supabase Configuration (for backend database access)
# Examples:
#   - All-in-one: http://localhost:8444
#   - Distributed: http://192.168.0.11:8444 (replace with your server IP)
#   - Cloud: https://your-project.supabase.co
SUPABASE_URL=http://localhost:8444

# Supabase Service Role Key (admin key, NEVER expose to browser!)
# Get this from Supabase Dashboard → Settings → API → service_role key
# WARNING: This key bypasses Row Level Security (RLS) - keep it secret!
SUPABASE_SERVICE_KEY=your-service-role-key-here

# Supabase JWT Secret (for token validation)
# Get this from Supabase Dashboard → Settings → API → JWT Secret
SUPABASE_JWT_SECRET=your-jwt-secret-here

# OLLAMA Configuration (for LLM and embeddings)
# Examples:
#   - All-in-one: http://localhost:11434
#   - Distributed: http://192.168.0.11:11434 (replace with your server IP)
#   - Cloud: https://ollama.your-domain.com:11434
OLLAMA_HOST=http://localhost:11434

# OLLAMA Model Names (optional, defaults shown)
OLLAMA_FAST_MODEL=mistral:7b
OLLAMA_ACCURATE_MODEL=gpt-oss:120b
OLLAMA_EMBEDDING_MODEL=nomic-embed-text

# OLLAMA Timeouts (seconds, optional, defaults shown)
OLLAMA_FAST_TIMEOUT=15
OLLAMA_ACCURATE_TIMEOUT=240
OLLAMA_EMBEDDING_TIMEOUT=30

# Redis Configuration (optional, for caching RAG context)
# Examples:
#   - All-in-one: redis://localhost:6379/0
#   - Distributed: redis://192.168.0.11:6379/0
#   - Cloud: redis://your-redis-provider.com:6379/0
# Leave empty if Redis is not available (caching will be disabled)
REDIS_URL=redis://localhost:6379/0

# Redis TTL for RAG context cache (seconds, optional, default: 300)
REDIS_RAG_CONTEXT_TTL=300

# ============================================
# APPLICATION CONFIGURATION
# ============================================

# Application Environment
# Options: development, staging, production
ENVIRONMENT=development

# Log Level
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Debug Mode (true/false)
DEBUG=true

# CORS Origins (comma-separated list of allowed origins)
# Examples:
#   - All-in-one: http://localhost:4321,http://localhost:3000
#   - Distributed: http://localhost:4321,http://192.168.0.11:4321
#   - Cloud: https://your-domain.com,https://www.your-domain.com
CORS_ORIGINS=http://localhost:4321,http://localhost:3000

# ============================================
# RATE LIMITING (optional, defaults shown)
# ============================================
RATE_LIMIT_PER_USER=10
RATE_LIMIT_PER_IP=30
RATE_LIMIT_HEALTH_PER_IP=60

# ============================================
# DATABASE CONNECTION (for migrations only)
# ============================================
# This is used by Supabase CLI for migrations
# Format: postgresql://postgres:[PASSWORD]@[HOST]:5432/postgres
# Examples:
#   - All-in-one: postgresql://postgres:postgres@localhost:5432/postgres
#   - Distributed: postgresql://postgres:your-password@192.168.0.11:5432/postgres
#   - Cloud: postgresql://postgres:your-password@db.your-project.supabase.co:5432/postgres
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/postgres
