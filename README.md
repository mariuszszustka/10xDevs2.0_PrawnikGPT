# PrawnikGPT

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js](https://img.shields.io/badge/Node.js-24.11.0-green.svg)](https://nodejs.org/)
[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://www.python.org/)
[![Astro](https://img.shields.io/badge/Astro-5.0-purple.svg)](https://astro.build/)

> An MVP (Minimum Viable Product) AI assistant for lawyers and legal trainees, enabling natural language queries about Polish legal acts using RAG (Retrieval-Augmented Generation) technology.

## Table of Contents

- [Project Description](#project-description)
- [Tech Stack](#tech-stack)
- [Getting Started Locally](#getting-started-locally)
- [Available Scripts](#available-scripts)
- [Project Scope](#project-scope)
- [Project Status](#project-status)
- [License](#license)
- [Additional Resources](#additional-resources)

## Project Description

PrawnikGPT is an intelligent legal assistant designed to support lawyers and legal trainees in their daily work. The application enables users to ask questions about Polish legal acts in natural language and receive precise answers based on a database of 20,000 recent legal acts.

### Key Innovation

**Two-tier response system:**
- **Fast response** (<15s): Generated by a smaller language model (7B-13B parameters) - default response for every query
- **Detailed response** (up to 240s timeout): Generated by a larger 120B model (`gpt-oss:120b`) on user request via "Get detailed answer" button

### Core Features

- ðŸ¤– **RAG-powered chat interface** - Ask questions in natural language about legal acts
- âš¡ **Fast responses** - Get answers in under 15 seconds
- ðŸ” **Semantic search** - Find relevant legal acts using vector embeddings
- ðŸ“š **Query history** - Chronological list of all your queries and responses
- â­ **Rating system** - Provide feedback on answer quality (thumbs up/down)
- ðŸŽ¯ **Source citations** - Clickable links to source legal acts and articles

### Problem Statement

Lawyers and legal trainees spend significant time manually searching through legal acts, analyzing their relationships, and finding specific provisions. Current tools often don't allow natural language queries and don't provide answers in the context of related documents. This process is time-consuming, inefficient, and error-prone.

## Tech Stack

### Frontend
- **[Astro 5](https://astro.build/)** - Modern web framework with minimal JavaScript
- **[React 19](https://react.dev/)** - Interactive components (islands architecture)
- **[TypeScript 5](https://www.typescriptlang.org/)** - Type-safe development
- **[Tailwind CSS](https://tailwindcss.com/)** - Utility-first CSS framework
- **[Shadcn/ui](https://ui.shadcn.com/)** - Accessible React component library

### Backend
- **[Python 3.11+](https://www.python.org/)** - Programming language
- **[FastAPI](https://fastapi.tiangolo.com/)** - Modern, fast web framework for building APIs
- **[Pydantic](https://docs.pydantic.dev/)** - Data validation using Python type annotations

### Database
- **[Supabase](https://supabase.com/)** - Open-source Firebase alternative
- **[PostgreSQL](https://www.postgresql.org/)** - Relational database
- **[pgvector](https://github.com/pgvector/pgvector)** - Vector similarity search extension

### AI Infrastructure
- **[OLLAMA](https://ollama.ai/)** - Local LLM hosting
  - **Fast model**: Mistral 7B or Llama 2 13B
  - **Detailed model**: gpt-oss:120b
  - **Embeddings model**: nomic-embed-text (768-dim) or mxbai-embed-large
- **[LangChain](https://www.langchain.com/)** / **[LlamaIndex](https://www.llamaindex.ai/)** - RAG orchestration

### Development Tools
- **ESLint** + **Prettier** - Code quality and formatting
- **Vitest** - Frontend testing
- **pytest** - Backend testing
- **GitHub Actions** - CI/CD

## Getting Started Locally

### Prerequisites

- **Node.js** 24.11.0 (see `.nvmrc` for version)
- **Python** 3.11 or higher
- **OLLAMA** installed locally ([download](https://ollama.ai/))
- **Docker** (for local Supabase)
- **Supabase CLI** ([installation guide](https://supabase.com/docs/guides/cli))

### Step 1: Clone the Repository

```bash
git clone https://github.com/mariuszszustka/10xDevs2.0_PrawnikGPT.git
cd 10xDevs2.0_PrawnikGPT
```

### Step 2: Configure Environment Variables

Copy `.env.example` to `.env` and configure it according to your deployment scenario:

```bash
cp .env.example .env
```

**Deployment scenarios supported:**
- ðŸ  **All-in-one**: Everything on localhost
- ðŸ”€ **Distributed**: Frontend/Backend separate from services
- â˜ï¸ **Cloud/Production**: All components in cloud
- ðŸ”„ **Hybrid**: Any combination of local and cloud

See `.env.example` for detailed configuration examples.

### Step 3: Set Up Node.js Version

If using `nvm`:

```bash
nvm use
# or
nvm install 24.11.0
```

### Step 4: Install OLLAMA Models

```bash
# Install required models
ollama pull nomic-embed-text
ollama pull mistral:7b
ollama pull gpt-oss:120b

# Verify installation
ollama list
```

### Step 5: Start Supabase (Local)

```bash
# Start local Supabase instance
supabase start

# Note the connection details from the output
# You'll need: SUPABASE_URL, SUPABASE_ANON_KEY, SUPABASE_SERVICE_KEY, SUPABASE_JWT_SECRET
```

### Step 6: Install Frontend Dependencies

```bash
npm install
```

### Step 7: Install Backend Dependencies

```bash
cd backend
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
pip install -r requirements.txt
cd ..
```

### Step 8: Start Development Servers

**Terminal 1 - Backend:**
```bash
cd backend
uvicorn main:app --reload
# Backend available at http://localhost:8000
```

**Terminal 2 - Frontend:**
```bash
npm run dev
# Frontend available at http://localhost:4321
```

### Step 9: Verify Setup

```bash
# Test Supabase
curl http://localhost:8444/health

# Test OLLAMA
curl http://localhost:11434/api/version

# Test Backend
curl http://localhost:8000/health
```

Open your browser and navigate to `http://localhost:4321` to see the application.

## Available Scripts

### Frontend Scripts

| Script | Description |
|--------|-------------|
| `npm run dev` | Start Astro development server (port 4321) |
| `npm run build` | Build production-ready static site |
| `npm run preview` | Preview production build locally |
| `npm run lint` | Run ESLint to check code quality |
| `npm run lint:fix` | Run ESLint and auto-fix issues |
| `npm run type-check` | Run TypeScript type checking |
| `npm run format` | Format code with Prettier |

### Backend Scripts

```bash
# Run development server
cd backend
uvicorn main:app --reload

# Run tests
pytest

# Type checking
mypy backend/
```

## Project Scope

### âœ… In Scope (MVP)

- **Authentication**: Email/password registration and login (no email verification)
- **Chat interface**: Natural language queries with fast and detailed responses
- **Query history**: Chronological list of queries and responses
- **Rating system**: Thumbs up/down feedback for responses
- **Onboarding**: Welcome message and example questions for new users
- **Static dataset**: 20,000 most recent Polish legal acts
- **RAG pipeline**: Semantic search with vector embeddings
- **Two-tier responses**: Fast (<15s) and detailed (up to 240s) answer generation

### âŒ Out of Scope (MVP)

- Full ISAP database (only 20k acts)
- Advanced search/filters in history
- Sharing queries between users
- Export to PDF/DOCX
- Mobile apps (web only)
- Auto-update of legal acts (static dataset)
- End-to-End (E2E) tests
- Email verification
- Payment/subscription features
- Admin panel for user management

## Project Status

ðŸš§ **In Active Development**

This project is currently in the early development phase as part of the [10xDevs](https://www.10xdevs.pl/) course.

### Current Status

- âœ… Project structure and configuration
- âœ… Frontend migration to Astro 5 with React 19
- âœ… Basic pages and layouts
- âœ… Code quality tools (ESLint, Prettier)
- âœ… Shadcn/ui integration setup
- ðŸš§ Backend API implementation (in progress)
- ðŸš§ Database migrations (in progress)
- ðŸš§ RAG pipeline implementation (in progress)
- ðŸš§ React components for chat interface (planned)
- ðŸš§ Authentication flow (planned)
- ðŸš§ Data ingestion pipeline (planned)

### Development Roadmap

**Phase 1: Single Model Flow**
- Complete user flow: login, chat, history, ratings
- Single smaller LLM model (7B-13B) for all responses
- Stabilize RAG infrastructure, frontend, backend, and database

**Phase 2: Large Model Integration**
- Add "Get detailed answer" functionality
- Integrate gpt-oss:120b model
- Implement RAG context caching (5 minutes)
- Implement 240s timeout for detailed responses

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

```
MIT License

Copyright (c) 2025 MariuszSzustka

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction...
```

## Additional Resources

### Project Documentation

- ðŸ“‹ [Product Requirements Document (PRD)](.ai/prd.md)
- ðŸ—ï¸ [Tech Stack Details](.ai/tech-stack.md)
- ðŸ”§ [API Plan](.ai/api-plan.md)
- ðŸ’¾ [Database Plan](.ai/db-plan.md)
- ðŸŽ¨ [UI Plan](.ai/ui-plan.md)
- ðŸ¤– [RAG Implementation Plan](.ai/rag-implementation-plan.md)

### AI Agent Instructions

- ðŸ¤– [Claude Code Instructions](.claude/CLAUDE.md)
- ðŸ¤– [Gemini Instructions](.gemini/GEMINI.md)
- ðŸ¤– [Cursor AI Rules](.cursor/rules/)
- ðŸ¤– [GitHub Copilot Instructions](.github/copilot-instructions.md)

### External Documentation

- [Astro Documentation](https://docs.astro.build)
- [React Documentation](https://react.dev)
- [FastAPI Documentation](https://fastapi.tiangolo.com)
- [Supabase Documentation](https://supabase.com/docs)
- [OLLAMA Documentation](https://ollama.ai)
- [LangChain Documentation](https://python.langchain.com)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [Shadcn/ui Documentation](https://ui.shadcn.com)

---

**Note**: This project is part of the [10xDevs](https://www.10xdevs.pl/) course and is being developed as an MVP to validate market demand for this type of legal assistant tool.
